<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gradus ‚Äî –ó–ü –°–∏—Å—Ç–µ–º–∞ 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
  :root{--bg:#0d0f14;--s1:#161920;--s2:#1e2330;--s3:#252b3b;--border:#2a2f3d;
    --amber:#f5a623;--gold:#FFD700;--green:#2ecc71;--red:#e74c3c;--blue:#5b9cf6;--purple:#a78bfa;
    --text:#e8eaf0;--dim:#7a8196;--muted:#4a5168;}
  *{margin:0;padding:0;box-sizing:border-box;}
  body{background:var(--bg);color:var(--text);font-family:'Manrope',sans-serif;font-size:14px;min-height:100vh;}
  .header{background:linear-gradient(135deg,#12151e,#0a0c10);border-bottom:1px solid rgba(255,215,0,.15);padding:14px 24px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;}
  .header-brand{display:flex;align-items:center;gap:14px;}
  .logo-wrap{width:52px;height:52px;flex-shrink:0;}
  .brand-name{font-family:'Bebas Neue',sans-serif;font-size:2rem;letter-spacing:6px;color:var(--gold);line-height:1;}
  .brand-sub{color:var(--dim);font-size:10px;margin-top:2px;letter-spacing:1px;}
  .header-right{display:flex;align-items:center;gap:10px;}
  .badge-ok{background:var(--green);color:#000;padding:4px 12px;border-radius:20px;font-size:10px;font-weight:800;letter-spacing:1px;text-transform:uppercase;}
  .save-indicator{display:flex;align-items:center;gap:5px;font-size:10px;color:var(--dim);padding:4px 10px;border:1px solid var(--border);border-radius:20px;}
  .save-dot{width:6px;height:6px;border-radius:50%;background:var(--green);animation:pulse 2s infinite;}
  @keyframes pulse{0%,100%{opacity:1;}50%{opacity:.4;}}

  .tabs{display:flex;border-bottom:1px solid var(--border);background:var(--s1);padding:0 24px;overflow-x:auto;}
  .tab{padding:12px 18px;font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--dim);cursor:pointer;border-bottom:2px solid transparent;transition:all .2s;white-space:nowrap;}
  .tab.active{color:var(--gold);border-bottom-color:var(--gold);}
  .tab:hover{color:var(--text);}
  .page{display:none;}.page.active{display:block;}

  .calc-layout{display:grid;grid-template-columns:375px 1fr;min-height:calc(100vh - 106px);}
  .left{background:var(--s1);border-right:1px solid var(--border);padding:20px 16px;overflow-y:auto;}
  .right{padding:20px 24px;overflow-y:auto;}
  .sec-title{font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--dim);margin-bottom:12px;display:flex;align-items:center;gap:7px;}
  .sec-title::before{content:'';width:5px;height:5px;background:var(--gold);border-radius:50%;flex-shrink:0;}
  .add-form{background:var(--s2);border-radius:12px;padding:14px;margin-bottom:14px;border:1px solid var(--border);}
  .fg{display:flex;flex-direction:column;gap:5px;margin-bottom:9px;}
  .fg label{font-size:10px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--dim);}
  .fg2{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:9px;}
  input[type=date],input[type=number],select{background:var(--s3);border:1px solid var(--border);border-radius:8px;padding:8px 11px;color:var(--text);font-family:'Manrope',sans-serif;font-size:13px;font-weight:600;outline:none;width:100%;transition:border-color .2s;color-scheme:dark;}
  input:focus,select:focus{border-color:var(--gold);}
  select option{background:var(--s2);}
  .btn-add{width:100%;padding:10px;background:linear-gradient(135deg,var(--gold),var(--amber));color:#000;border:none;border-radius:8px;font-family:'Manrope',sans-serif;font-size:13px;font-weight:800;cursor:pointer;transition:opacity .2s;}
  .btn-add:hover{opacity:.85;}
  .btn-sm{padding:5px 11px;font-size:11px;border-radius:6px;background:transparent;border:1px solid var(--border);color:var(--dim);cursor:pointer;font-family:'Manrope',sans-serif;font-weight:600;transition:all .2s;}
  .btn-sm:hover{border-color:var(--red);color:var(--red);}
  .sc{background:var(--s2);border-radius:10px;padding:13px;border:1px solid var(--border);transition:border-color .2s;margin-bottom:9px;}
  .sc:hover{border-color:rgba(255,215,0,.2);}
  .sc-head{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:7px;}
  .sc-seller{font-size:12px;font-weight:700;}
  .sc-dates{font-size:10px;color:var(--dim);margin-top:2px;}
  .sc-del{background:none;border:none;color:var(--muted);cursor:pointer;font-size:18px;line-height:1;transition:color .2s;}
  .sc-del:hover{color:var(--red);}
  .sc-meta{display:flex;flex-wrap:wrap;gap:5px;margin-bottom:9px;}
  .tag{display:inline-block;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:700;}
  .z-low{background:rgba(91,156,246,.15);color:var(--blue);}
  .z-mid{background:rgba(255,215,0,.12);color:var(--gold);}
  .z-high{background:rgba(46,204,113,.15);color:var(--green);}
  .t-tag{background:rgba(167,139,250,.15);color:var(--purple);}
  .sc-stats{display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-bottom:8px;}
  .sb{background:rgba(255,255,255,.03);border-radius:6px;padding:7px 9px;}
  .sb-lbl{font-size:9px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--muted);margin-bottom:2px;}
  .sb-val{font-family:'Bebas Neue',sans-serif;font-size:1rem;line-height:1;}
  .sb.rev .sb-val{color:var(--gold);}.sb.sal .sb-val{color:var(--green);}
  .pbar-wrap{margin-bottom:8px;}
  .pbar-lbl{display:flex;justify-content:space-between;font-size:10px;color:var(--muted);margin-bottom:3px;}
  .pbar{height:5px;background:var(--border);border-radius:3px;overflow:hidden;}
  .pbar-fill{height:100%;border-radius:3px;transition:width .4s,background .4s;}
  .bonus-row{display:flex;flex-wrap:wrap;gap:4px;}
  .bchip{display:flex;align-items:center;gap:3px;border:1px solid var(--border);border-radius:16px;padding:3px 8px;font-size:10px;color:var(--dim);cursor:pointer;transition:all .2s;background:rgba(255,255,255,.02);user-select:none;}
  .bchip.on{background:rgba(46,204,113,.1);border-color:rgba(46,204,113,.3);color:var(--green);}
  .bchip input{display:none;}
  .sc-total{display:flex;justify-content:space-between;font-size:12px;margin-top:8px;padding-top:8px;border-top:1px solid var(--border);}
  .kpi-row{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:18px;}
  .kpi{background:var(--s1);border:1px solid var(--border);border-radius:12px;padding:14px 16px;position:relative;overflow:hidden;}
  .kpi::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;}
  .kpi.a::before{background:linear-gradient(90deg,var(--gold),var(--amber));}
  .kpi.g::before{background:var(--green);}
  .kpi.r::before{background:var(--red);}
  .kpi.b::before{background:var(--blue);}
  .kpi-lbl{font-size:9px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--dim);margin-bottom:4px;}
  .kpi-val{font-family:'Bebas Neue',sans-serif;font-size:1.5rem;line-height:1;margin-bottom:1px;}
  .kpi.a .kpi-val{color:var(--gold);}.kpi.g .kpi-val{color:var(--green);}.kpi.r .kpi-val{color:var(--red);}.kpi.b .kpi-val{color:var(--blue);}
  .kpi-sub{font-size:10px;color:var(--muted);}
  .card{background:var(--s1);border:1px solid var(--border);border-radius:12px;padding:18px;margin-bottom:16px;}
  .card-title{font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--dim);margin-bottom:13px;display:flex;align-items:center;gap:7px;}
  .card-title::before{content:'';width:5px;height:5px;background:var(--gold);border-radius:50%;flex-shrink:0;}
  table{width:100%;border-collapse:collapse;}
  th{font-size:9px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--muted);padding:6px 8px;text-align:right;border-bottom:1px solid var(--border);white-space:nowrap;}
  th:first-child{text-align:left;}
  td{padding:8px 8px;text-align:right;border-bottom:1px solid rgba(42,47,61,.4);font-size:11px;font-weight:500;white-space:nowrap;}
  td:first-child{text-align:left;color:var(--dim);}
  tr:hover td{background:rgba(255,215,0,.02);}
  tr.tot td{background:rgba(255,215,0,.06);font-weight:700;border-top:1px solid var(--border);}
  tr.tot td:first-child{color:var(--gold);}
  .pos{color:var(--green);}.neg{color:var(--red);}.amb{color:var(--gold);}
  .note{border-radius:10px;padding:12px 15px;font-size:11px;line-height:1.7;margin-bottom:14px;}
  .note.warn{background:rgba(255,215,0,.06);border:1px solid rgba(255,215,0,.15);color:var(--dim);}
  .note.warn strong{color:var(--gold);}
  .note.ok{background:rgba(46,204,113,.07);border:1px solid rgba(46,204,113,.2);color:var(--dim);}
  .note.ok strong{color:var(--green);}
  .note.info{background:rgba(91,156,246,.07);border:1px solid rgba(91,156,246,.2);color:var(--dim);}
  .note.info strong{color:var(--blue);}
  .charts-row{display:grid;grid-template-columns:1fr 1fr;gap:14px;}
  .scheme-page{padding:22px 26px;max-width:1100px;}
  .sz-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:20px;}
  .sz{border-radius:12px;padding:18px;border:1px solid var(--border);}
  .sz.low{background:rgba(91,156,246,.05);border-color:rgba(91,156,246,.2);}
  .sz.mid{background:rgba(255,215,0,.04);border-color:rgba(255,215,0,.15);}
  .sz.high{background:rgba(46,204,113,.05);border-color:rgba(46,204,113,.2);}
  .sz-title{font-size:11px;font-weight:800;letter-spacing:2px;text-transform:uppercase;margin-bottom:3px;}
  .sz.low .sz-title{color:var(--blue);}.sz.mid .sz-title{color:var(--gold);}.sz.high .sz-title{color:var(--green);}
  .sz-months{font-size:11px;color:var(--dim);margin-bottom:3px;}
  .sz-oklad{font-family:'Bebas Neue',sans-serif;font-size:1.4rem;color:var(--text);margin-bottom:12px;}
  .tr{display:flex;justify-content:space-between;align-items:center;padding:7px 10px;border-radius:6px;margin-bottom:5px;background:rgba(255,255,255,.03);}
  .tr-l{font-size:11px;color:var(--dim);}
  .tr-r{font-size:13px;font-weight:800;letter-spacing:.5px;}
  .tr.t0 .tr-r{color:var(--muted);}.tr.t1 .tr-r{color:var(--blue);}.tr.t2 .tr-r{color:var(--gold);}.tr.t3 .tr-r{color:var(--green);}
  .tr.t3{background:rgba(46,204,113,.05);}
  .sz-note{margin-top:10px;font-size:10px;color:var(--muted);line-height:1.6;padding:8px 10px;background:rgba(255,255,255,.02);border-radius:6px;}
  .bonus-ref{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:10px;}
  .bp{background:var(--s2);border:1px solid var(--border);border-radius:8px;padding:11px 13px;display:flex;justify-content:space-between;align-items:center;}
  .bp span{font-size:11px;color:var(--dim);}
  .bp strong{font-family:'Bebas Neue',sans-serif;font-size:1rem;color:var(--green);}
  .examples-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:13px;}
  .ex{background:var(--s2);border-radius:10px;padding:15px;border:1px solid var(--border);}
  .ex-title{font-size:10px;font-weight:700;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;}
  .ex-row{display:flex;justify-content:space-between;padding:5px 0;border-bottom:1px solid rgba(255,255,255,.04);font-size:12px;}
  .ex-row:last-child{border-bottom:none;font-weight:700;font-size:13px;padding-top:8px;}
  .fc-page{padding:22px 26px;max-width:1300px;}
  @media(max-width:900px){
    .calc-layout{grid-template-columns:1fr;}
    .left{border-right:none;border-bottom:1px solid var(--border);}
    .kpi-row,.sz-grid,.charts-row,.bonus-ref,.examples-grid{grid-template-columns:repeat(2,1fr);}
  }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>

<div class="header">
  <div class="header-brand">
    <div class="logo-wrap"><!-- Generator: Adobe Illustrator 23.0.5, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="–°–ª–æ–π_1" width="52" height="52" style="display:block;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 946 1039" style="enable-background:new 0 0 946 1039;" xml:space="preserve">
<style type="text/css">
	.st0{fill:#FFD700;}
	.st1{fill:#FDAE02;}
	.st2{fill:#FF0000;}
	.st3{clip-path:url(#SVGID_2_);fill:#FFD700;}
</style>
<path class="st0" d="M514.5,683.3c7.7,0,13.1,2.4,17.8,7.9c4.5,5.3,6.2,11.2,5.6,19.9c-0.8,11.7-6.6,19.9-16.1,22.7
	c-6.5,1.9-9.9,1.8-16.6-0.5c-7.1-2.4-12.3-7.9-14.4-15.1c-2-6.7-2-10.8,0-18.1C493.8,688.8,501.7,683.3,514.5,683.3z M411.6,683.3
	c16-0.8,28.1,11.5,26,28.4c-1.4,11.5-7.5,19.3-17.2,22.2c-5.8,1.7-9.5,1.7-15.4-0.1c-5.2-1.6-11-6.8-13.5-12.1
	c-2.6-5.5-3-14.9-1-21.9c2.1-7.2,8-13.7,14-15.3C407,683.8,409.3,683.4,411.6,683.3z M255.7,682.4c8.9,0.1,16.3,4.6,21,12.7
	c2.4,4.1,2.7,5.7,2.7,13.2c0,9-1.9,14.5-6.8,19.8c-5.4,6-17.3,8.5-25.6,5.6c-11.6-4.1-17.6-16.8-15-31.6c2-11.2,9-18.2,19.8-19.5
	C253.2,682.5,254.5,682.4,255.7,682.4z M585.7,667.7c-3.2,0-7.3,2.1-8.7,4.7c-0.7,1.3-1,11-0.8,28.7c0.3,26.4,0.3,26.8,2.9,32.2
	c4.1,8.8,11.1,14.6,20.7,17c5,1.3,16.9,0.5,21.3-1.3c1.9-0.8,5.4-2.9,7.8-4.6l4.3-3.1l0.9,2.4c1.3,3.4,5.8,6.7,9.3,6.7
	c5.8-0.1,8.3-5.5,8.8-8.1c0.1-0.5,0-1.5,0-1.5V709c0-33.7-0.1-35.6-2-37.9c-4-5.1-12.7-4.2-15.5,1.7c-1.3,2.8-1.6,7.2-1.5,26.1
	l0.1,22.7l-2.8,4.5c-3.8,6.1-9.7,9.2-17.6,9.2c-7.1,0-11.9-2.1-15-6.4c-2.1-3-2.3-4.2-2.7-29.3c-0.5-25.9-0.2-26.4-2.6-28.9
	c-1.3-1.4-3.4-2.5-5-2.9C587.1,667.8,586.1,667.7,585.7,667.7z M702.3,667.5c-1.6-0.1-3.2,0-4.8,0.1c-15.9,1-27.5,11-27.5,23.5
	c0.1,13.3,9.6,21.1,30.3,24.7c12.3,2.2,16.7,4.9,16.7,10.5c0,7.3-6.1,10.6-18.2,9.9c-8.9-0.5-12.9-2-18.6-6.9
	c-8.9-7.7-17.9,1.8-10.1,10.6c7.9,9,22.5,13.1,38,10.6c11.7-1.9,22.2-9.5,24.7-17.8c1.6-5.4,1.5-13.7-0.2-17
	c-3.7-7.1-9.4-10.2-26.5-14.6c-7-1.8-13.7-3.8-14.8-4.4c-2.6-1.4-4.3-6-3.2-8.9c2.2-6.1,16.6-7.2,26.9-2c6.5,3.3,8,3.4,11.4,0.7
	c2.8-2.2,3.5-6.4,1.6-9.9C725.6,671.8,713.7,667.8,702.3,667.5z M408.1,667.5c-5.1,0.1-10.1,1.2-14.6,3.2
	c-16.1,7.4-25.6,26.1-22.8,44.5c2.8,17.8,14.9,31.8,30.6,35.1c6,1.3,17.3,0.2,22.5-2.1c2.5-1.1,6.4-3.5,8.7-5.4l4.2-3.4l1.2,3.9
	c1.4,4.6,4.3,7,8.7,7c3.2,0,7.4-2.1,8.1-5c0.3-0.9,0.4-2.2,0.4-3.8c0-5.4,0-18.7,0-33.7L455,676c0,0-0.2-1.9-0.7-3.2
	c-0.5-1.3-1.7-2.3-1.7-2.3c-3.6-3.6-9.9-3.3-13.5,0.7c-1.5,1.7-2.1,4.1-2.1,5.2c0,2.7-0.3,2.6-6-1.9
	C425,669.7,416.6,667.3,408.1,667.5z M249.4,667.4c-3,0.1-5.9,0.5-8.5,1.3c-11.3,3.4-18.9,9.9-24.2,20.6c-3.1,6.2-3.7,8.8-3.7,19.3
	c-0.1,8.9,0.7,12.5,3.7,19c4.2,8.9,11,16,19.1,20c5.9,2.9,7.3,3.2,16.1,3.2c10.8,0.1,14.6-1.3,23.1-8.2l4.4-3.6l-0.7,6.4
	c-1.2,11.7-6,18.1-15.9,21.4c-8.6,2.9-22.6,1.3-30.3-3.4c-4.1-2.5-8.9-2.5-11.4,0c-6.2,6.2,2.5,15.1,18.2,18.5
	c7.9,1.7,19.1,1.9,26,0.4c8.2-1.8,12.9-4.2,18.9-9.7c5.8-5.3,10.1-12.7,11.9-20.3c1.2-5.4,1.4-60.7,0.4-76.1
	c-0.1-2.2,0.1-2.1-0.8-3.9c-1.7-3.4-6.4-4.8-9.8-4.1c-3.3,0.6-6.7,4.6-6.7,7.9c0,3.1-0.4,3-5.3-1.2
	C268,669.9,258.3,667.1,249.4,667.4z M353.4,667.1c-4.2,0.1-8.8,1.7-13.5,4.8c-2.8,1.9-5.2,3.4-5.4,3.4s-1-1.3-1.9-2.9
	c-2.1-4-6.4-5.7-11-4.2c-6.4,2.1-6.5,2.8-6.5,40.7c0,35.9,0,36.1,4.8,40c2.5,2.1,7.8,1.5,10.9-1.2c0,0,1.6-1.2,2.2-2.4
	c0.5-1,0.7-2.7,0.7-2.7l0.4-21.2c0.5-22.7,0.6-24,2.8-27.9c1.3-2.2,4.2-5.3,6.4-6.8c3.4-2.2,5.3-2.7,10.7-2.7c8.5,0,11-2,11-8.5
	c0-3.6-0.5-4.7-2.4-6C359.8,667.9,356.7,667,353.4,667.1z M547.4,625.3c-2.4-0.1-4.8,0.5-6.5,1.9c-2.3,1.9-2.4,2.1-2.9,27.1
	l-0.5,25.2l-2.5-2.7c-8.7-9.3-25.9-12-40.5-6.5c-13.7,5.2-23.5,21.3-23.5,38.5c0,20.7,13.4,38.2,31.7,41.5
	c7.5,1.3,16.7,0.3,22.4-2.6c2.7-1.4,6.8-4.1,8.9-6.1l4-3.6v3.2c0,4.5,4.7,9,9.3,9c4.3,0.1,7.3-3.1,8.2-6.4c0.4-1.7,0.4-5.3,0.4-5.3
	l0-51.4v-54.4c0,0-0.1-2.1-0.5-3.1c-0.3-0.8-1.5-2.2-1.5-2.2C552.5,626,549.7,625.4,547.4,625.3z"/>
<path class="st0" d="M579.2,786l-4.4-4.1c-35.1,38.1-72.1,69.1-106.9,88.9l3,5.2l3,5.2c36.2-20.6,74.1-52.4,109.8-91.1L579.2,786z
	 M470.9,876l2.7-5.3c-35.5-18.2-72.4-48.9-107.6-88.6l-4.5,4l-4.5,4c35.8,40.4,73.9,72.3,111.1,91.4L470.9,876z M583.6,790.1
	c2.2-2.4,2.1-6.2-0.3-8.5c-2.4-2.2-6.2-2.1-8.5,0.3l4.4,4.1L583.6,790.1z M366,782c-2.2-2.5-6-2.7-8.5-0.5c-2.5,2.2-2.7,6-0.5,8.5
	l4.5-4L366,782z M470.9,876l-2.7,5.3l2.9,1.5l2.8-1.6L470.9,876z"/>
<path class="st0" d="M743,434h-6c0,68.5-11.8,120.5-46.1,177.4l5.1,3.1l5.1,3.1C736.8,558.5,749,504.3,749,434H743z M253.5,614.5
	l5-3.3C221.3,555.9,209,502.5,209,434h-6h-6c0,70.3,12.7,126.1,51.5,183.8L253.5,614.5z M473,164v6c145.8,0,264,118.2,264,264h6h6
	c0-152.4-123.6-276-276-276V164z M203,434h6c0-145.8,118.2-264,264-264v-6v-6c-152.4,0-276,123.6-276,276H203z M690.9,611.4
	c-1.7,2.8-0.8,6.5,2,8.2c2.8,1.7,6.5,0.8,8.2-2l-5.1-3.1L690.9,611.4z M248.5,617.8c1.8,2.7,5.6,3.5,8.3,1.6
	c2.7-1.8,3.5-5.6,1.6-8.3l-5,3.3L248.5,617.8z"/>
<path class="st0" d="M500,420.5h-6v96h6h6v-96H500z M457.5,420.5h-6v96h6h6v-96H457.5z M415.5,420.5h-6v96h6h6v-96H415.5z
	 M494,516.5c0,3.3,2.7,6,6,6c3.3,0,6-2.7,6-6h-6H494z M506,420.5c0-3.3-2.7-6-6-6c-3.3,0-6,2.7-6,6h6H506z M451.5,516.5
	c0,3.3,2.7,6,6,6c3.3,0,6-2.7,6-6h-6H451.5z M463.5,420.5c0-3.3-2.7-6-6-6c-3.3,0-6,2.7-6,6h6H463.5z M409.5,516.5c0,3.3,2.7,6,6,6
	c3.3,0,6-2.7,6-6h-6H409.5z M421.5,420.5c0-3.3-2.7-6-6-6c-3.3,0-6,2.7-6,6h6H421.5z"/>
<path class="st0" d="M543,368v5h5v-5v-5h-5V368z M538,368.4l0.8,4.9c1.4-0.2,2.8-0.3,4.2-0.3v-5v-5c-2,0-3.9,0.2-5.8,0.5L538,368.4z
	 M538,369.4h5v-1h-5h-5v1H538z M543,369v-5c-2,0-3.9,0.2-5.8,0.5l0.8,4.9l0.8,4.9c1.4-0.2,2.8-0.3,4.2-0.3V369z M548,369v-5h-5v5v5
	h5V369z M578,399h5c0-19.3-15.7-35-35-35v5v5c13.8,0,25,11.2,25,25H578z M578,457h5v-58h-5h-5v58H578z M548,487v5
	c19.3,0,35-15.7,35-35h-5h-5c0,13.8-11.2,25-25,25V487z M543,487v5h5v-5v-5h-5V487z M538,486.6l-0.8,4.9c1.9,0.3,3.8,0.5,5.8,0.5v-5
	v-5c-1.4,0-2.8-0.1-4.2-0.3L538,486.6z M538,487.6h5v-1h-5h-5v1H538z M542.2,488l0.1-5c-1.2,0-2.4-0.1-3.5-0.3l-0.8,4.9l-0.8,4.9
	c1.6,0.3,3.2,0.4,4.9,0.5L542.2,488z M543,488l0.1-5l-0.8,0l-0.1,5l-0.1,5l0.8,0L543,488z M548,488v-5h-5v5v5h5V488z M548.8,488
	l-0.1-5l-0.8,0l0.1,5l0.1,5l0.8,0L548.8,488z M579,457h-5c0,14.1-11.3,25.6-25.3,26l0.1,5l0.1,5c19.5-0.5,35.1-16.4,35.1-36H579z
	 M579,399h-5v58h5h5v-58H579z M548,368v5c14.4,0,26,11.6,26,26h5h5c0-19.9-16.1-36-36-36V368z M543,368v-5V368z M538,368.4l-0.8-4.9
	l-4.2,0.7v4.3H538z M538,369.4h-5v5.9l5.8-1L538,369.4z M543,369v-5V369z M548,487v5V487z M538,486.6l0.8-4.9l-5.8-1v5.9H538z
	 M538,487.6h-5v4.3l4.2,0.7L538,487.6z M542.2,488l-0.1,5l0,0l0,0L542.2,488z M543,488l-0.1,5l0,0h0V488z M548,488v5h0l0,0L548,488z
	 M548.8,488l0.1,5l0,0l0,0L548.8,488z"/>
<polygon class="st0" points="378,389 378,395 475,395 475,389 475,383 378,383 "/>
<polygon class="st1" points="443,338 443,344 481,344 481,338 481,332 443,332 "/>
<polygon class="st2" points="501,338 501,344 525,344 525,338 525,332 501,332 "/>
<polygon class="st0" points="503,389 503,395 538,395 538,389 538,383 503,383 "/>
<path class="st0" d="M453.5,305.5l-4.1,4.4c7.8,7.4,18.6,12.6,28.1,16.5c4.8,1.9,9.5,3.6,13.5,5c4.1,1.5,7.3,2.6,9.5,3.6l2.5-5.5
	l2.5-5.5c-2.8-1.2-6.5-2.6-10.4-4c-4-1.4-8.5-3-13-4.9c-9.2-3.7-18.2-8.3-24.4-14.1L453.5,305.5z M424.5,293l-0.2,6
	c2.9,0.1,5.7-0.1,9.6,1.1c3.9,1.2,9.1,3.7,15.5,9.8l4.1-4.4l4.1-4.4c-7.6-7.2-14.4-10.8-20.3-12.5c-5.8-1.7-10.5-1.5-12.6-1.6
	L424.5,293z M389,333.5l6,0.3c0.3-7.3,2-16.5,6.4-23.6c4.2-6.7,10.9-11.7,22.8-11.2l0.3-6l0.3-6c-16.5-0.7-27.2,6.8-33.5,16.8
	c-6,9.6-7.9,21.2-8.3,29.4L389,333.5z M500.5,335c3,1.4,6.6,0,7.9-3s0-6.6-3-7.9l-2.5,5.5L500.5,335z M453.5,305.5l-4.1,4.4
	L453.5,305.5z M424.5,293l-0.3,6l0,0l0,0L424.5,293z M383,333.2c-0.1,3.3,2.4,6.1,5.7,6.3s6.1-2.4,6.3-5.7l-6-0.3L383,333.2z"/>
<g>
	<defs>
		<path id="SVGID_1_" d="M469,337c0-8.3,6.7-15,15-15h14c8.3,0,15,6.7,15,15v60c0,9.9-8.1,18-18,18h-8c-9.9,0-18-8.1-18-18V337z"/>
	</defs>
	<clipPath id="SVGID_2_">
		<use xlink:href="#SVGID_1_"  style="overflow:visible;"/>
	</clipPath>
	<path class="st3" d="M484,322v-12c-14.9,0-27,12.1-27,27h12h12c0-1.7,1.3-3,3-3V322z M498,322v12c1.7,0,3,1.3,3,3h12h12
		c0-14.9-12.1-27-27-27V322z M513,397h-12c0,3.3-2.7,6-6,6v12v12c16.6,0,30-13.4,30-30H513z M487,415v-12c-3.3,0-6-2.7-6-6h-12h-12
		c0,16.6,13.4,30,30,30V415z M469,397h12v-60h-12h-12v60H469z M495,415v-12h-8v12v12h8V415z M513,337h-12v60h12h12v-60H513z
		 M484,322v12h14v-12v-12h-14V322z"/>
</g>
<path class="st0" d="M529.5,332c4.8,0.2,8.5,4.2,8.5,9v186l0,0.5c-0.2,9.6-8,17.3-17.5,17.5l-0.5,0H398c-11.4,0-20.7-9.1-21-20.5
	l0-0.5V341c0-4.8,3.8-8.7,8.5-9l0.5,0h83v12h-80v180c0,5,4,9,9,9h122c3.3,0,6-2.7,6-6V344h-13v-12h16L529.5,332z"/>
<path class="st0" d="M470,223.6c-108,0-195.5,87.5-195.5,195.5S362,614.6,470,614.6s195.5-87.5,195.5-195.5S577.9,223.6,470,223.6z
	 M470,604.4c-102.3,0-185.3-82.9-185.3-185.3S367.6,233.9,470,233.9s185.3,82.9,185.3,185.3S572.3,604.4,470,604.4z"/>
</svg></div>
    <div>
      <div class="brand-name">GRADUS</div>
      <div class="brand-sub">–°–∏—Å—Ç–µ–º–∞ –º–æ—Ç–∏–≤–∞—Ü–∏–∏ ¬∑ 2026</div>
    </div>
  </div>
  <div class="header-right">
    <div style="text-align:right;">
      <div style="font-size:11px;color:var(--dim);">–°–µ—Ä–∏–∫ –°–º–∞–≥—É–ª–æ–≤ &nbsp;¬∑&nbsp; –ï—Ä–±–æ–ª –°–∞–¥—ã–∫–æ–≤</div>
      <div style="font-size:10px;color:var(--muted);margin-top:2px;">–£—Å—Ç—å-–ö–∞–º–µ–Ω–æ–≥–æ—Ä—Å–∫ ¬∑ –ê–ª–∫–æ–º–∞—Ä–∫–µ—Ç</div>
    </div>
    <div class="save-indicator"><div class="save-dot"></div><span id="saveStatus">–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ</span></div>
    <span class="badge-ok">‚úì –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ</span>
  </div>
</div>

<div class="tabs">
  <div class="tab active" onclick="showTab('calc',this)">üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–º–µ–Ω</div>
  <div class="tab" onclick="showTab('scheme',this)">üìã –°—Ö–µ–º–∞ –ó–ü</div>
  <div class="tab" onclick="showTab('forecast',this)">üìà –ü—Ä–æ–≥–Ω–æ–∑ 2026</div>
</div>

<!-- ========== –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† ========== -->
<div class="page active" id="tab-calc">
<div class="calc-layout">
  <div class="left">
    <div class="sec-title">–î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É</div>
    <div class="add-form">
      <div class="fg2">
        <div class="fg" style="margin-bottom:0;"><label>–ù–∞—á–∞–ª–æ —Å–º–µ–Ω—ã</label><input type="date" id="fStart" value="2026-01-05"></div>
        <div class="fg" style="margin-bottom:0;"><label>–ö–æ–Ω–µ—Ü —Å–º–µ–Ω—ã</label><input type="date" id="fEnd" value="2026-01-19"></div>
      </div>
      <div class="fg2" style="margin-top:9px;">
        <div class="fg" style="margin-bottom:0;"><label>–ü—Ä–æ–¥–∞–≤–µ—Ü</label>
          <select id="fSeller"><option>–°–µ—Ä–∏–∫ –°–º–∞–≥—É–ª–æ–≤</option><option>–ï—Ä–±–æ–ª –°–∞–¥—ã–∫–æ–≤</option></select>
        </div>
        <div class="fg" style="margin-bottom:0;"><label>–í—ã—Ä—É—á–∫–∞ —Å–º–µ–Ω—ã (‚Ç∏)</label>
          <input type="number" id="fRev" placeholder="–Ω–∞–ø—Ä. 7500000" step="50000">
        </div>
      </div>
      <div style="margin-top:10px;"><button class="btn-add" onclick="addShift()">+ –î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É</button></div>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
      <div class="sec-title" style="margin-bottom:0;">–°–º–µ–Ω—ã <span id="cnt" style="color:var(--gold);margin-left:4px;">0</span></div>
      <button class="btn-sm" onclick="clearAll()">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
    </div>
    <div id="shiftList">
      <div style="text-align:center;padding:32px 14px;color:var(--muted);">
        <div style="font-size:2rem;margin-bottom:8px;">üìã</div>
        <div style="font-size:12px;line-height:1.6;">–î–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é —Å–º–µ–Ω—É<br>—á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –≤—ã—à–µ</div>
      </div>
    </div>
  </div>
  <div class="right">
    <div id="emptyR" style="display:flex;align-items:center;justify-content:center;height:75vh;flex-direction:column;gap:12px;color:var(--muted);text-align:center;">
      <div style="opacity:.12;width:80px;"><!-- Generator: Adobe Illustrator 23.0.5, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="–°–ª–æ–π_1" width="80" height="80" style="display:block;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 946 1039" style="enable-background:new 0 0 946 1039;" xml:space="preserve">
<style type="text/css">
	.st0{fill:#FFD700;}
	.st1{fill:#FDAE02;}
	.st2{fill:#FF0000;}
	.st3{clip-path:url(#SVGID_2_);fill:#FFD700;}
</style>
<path class="st0" d="M514.5,683.3c7.7,0,13.1,2.4,17.8,7.9c4.5,5.3,6.2,11.2,5.6,19.9c-0.8,11.7-6.6,19.9-16.1,22.7
	c-6.5,1.9-9.9,1.8-16.6-0.5c-7.1-2.4-12.3-7.9-14.4-15.1c-2-6.7-2-10.8,0-18.1C493.8,688.8,501.7,683.3,514.5,683.3z M411.6,683.3
	c16-0.8,28.1,11.5,26,28.4c-1.4,11.5-7.5,19.3-17.2,22.2c-5.8,1.7-9.5,1.7-15.4-0.1c-5.2-1.6-11-6.8-13.5-12.1
	c-2.6-5.5-3-14.9-1-21.9c2.1-7.2,8-13.7,14-15.3C407,683.8,409.3,683.4,411.6,683.3z M255.7,682.4c8.9,0.1,16.3,4.6,21,12.7
	c2.4,4.1,2.7,5.7,2.7,13.2c0,9-1.9,14.5-6.8,19.8c-5.4,6-17.3,8.5-25.6,5.6c-11.6-4.1-17.6-16.8-15-31.6c2-11.2,9-18.2,19.8-19.5
	C253.2,682.5,254.5,682.4,255.7,682.4z M585.7,667.7c-3.2,0-7.3,2.1-8.7,4.7c-0.7,1.3-1,11-0.8,28.7c0.3,26.4,0.3,26.8,2.9,32.2
	c4.1,8.8,11.1,14.6,20.7,17c5,1.3,16.9,0.5,21.3-1.3c1.9-0.8,5.4-2.9,7.8-4.6l4.3-3.1l0.9,2.4c1.3,3.4,5.8,6.7,9.3,6.7
	c5.8-0.1,8.3-5.5,8.8-8.1c0.1-0.5,0-1.5,0-1.5V709c0-33.7-0.1-35.6-2-37.9c-4-5.1-12.7-4.2-15.5,1.7c-1.3,2.8-1.6,7.2-1.5,26.1
	l0.1,22.7l-2.8,4.5c-3.8,6.1-9.7,9.2-17.6,9.2c-7.1,0-11.9-2.1-15-6.4c-2.1-3-2.3-4.2-2.7-29.3c-0.5-25.9-0.2-26.4-2.6-28.9
	c-1.3-1.4-3.4-2.5-5-2.9C587.1,667.8,586.1,667.7,585.7,667.7z M702.3,667.5c-1.6-0.1-3.2,0-4.8,0.1c-15.9,1-27.5,11-27.5,23.5
	c0.1,13.3,9.6,21.1,30.3,24.7c12.3,2.2,16.7,4.9,16.7,10.5c0,7.3-6.1,10.6-18.2,9.9c-8.9-0.5-12.9-2-18.6-6.9
	c-8.9-7.7-17.9,1.8-10.1,10.6c7.9,9,22.5,13.1,38,10.6c11.7-1.9,22.2-9.5,24.7-17.8c1.6-5.4,1.5-13.7-0.2-17
	c-3.7-7.1-9.4-10.2-26.5-14.6c-7-1.8-13.7-3.8-14.8-4.4c-2.6-1.4-4.3-6-3.2-8.9c2.2-6.1,16.6-7.2,26.9-2c6.5,3.3,8,3.4,11.4,0.7
	c2.8-2.2,3.5-6.4,1.6-9.9C725.6,671.8,713.7,667.8,702.3,667.5z M408.1,667.5c-5.1,0.1-10.1,1.2-14.6,3.2
	c-16.1,7.4-25.6,26.1-22.8,44.5c2.8,17.8,14.9,31.8,30.6,35.1c6,1.3,17.3,0.2,22.5-2.1c2.5-1.1,6.4-3.5,8.7-5.4l4.2-3.4l1.2,3.9
	c1.4,4.6,4.3,7,8.7,7c3.2,0,7.4-2.1,8.1-5c0.3-0.9,0.4-2.2,0.4-3.8c0-5.4,0-18.7,0-33.7L455,676c0,0-0.2-1.9-0.7-3.2
	c-0.5-1.3-1.7-2.3-1.7-2.3c-3.6-3.6-9.9-3.3-13.5,0.7c-1.5,1.7-2.1,4.1-2.1,5.2c0,2.7-0.3,2.6-6-1.9
	C425,669.7,416.6,667.3,408.1,667.5z M249.4,667.4c-3,0.1-5.9,0.5-8.5,1.3c-11.3,3.4-18.9,9.9-24.2,20.6c-3.1,6.2-3.7,8.8-3.7,19.3
	c-0.1,8.9,0.7,12.5,3.7,19c4.2,8.9,11,16,19.1,20c5.9,2.9,7.3,3.2,16.1,3.2c10.8,0.1,14.6-1.3,23.1-8.2l4.4-3.6l-0.7,6.4
	c-1.2,11.7-6,18.1-15.9,21.4c-8.6,2.9-22.6,1.3-30.3-3.4c-4.1-2.5-8.9-2.5-11.4,0c-6.2,6.2,2.5,15.1,18.2,18.5
	c7.9,1.7,19.1,1.9,26,0.4c8.2-1.8,12.9-4.2,18.9-9.7c5.8-5.3,10.1-12.7,11.9-20.3c1.2-5.4,1.4-60.7,0.4-76.1
	c-0.1-2.2,0.1-2.1-0.8-3.9c-1.7-3.4-6.4-4.8-9.8-4.1c-3.3,0.6-6.7,4.6-6.7,7.9c0,3.1-0.4,3-5.3-1.2
	C268,669.9,258.3,667.1,249.4,667.4z M353.4,667.1c-4.2,0.1-8.8,1.7-13.5,4.8c-2.8,1.9-5.2,3.4-5.4,3.4s-1-1.3-1.9-2.9
	c-2.1-4-6.4-5.7-11-4.2c-6.4,2.1-6.5,2.8-6.5,40.7c0,35.9,0,36.1,4.8,40c2.5,2.1,7.8,1.5,10.9-1.2c0,0,1.6-1.2,2.2-2.4
	c0.5-1,0.7-2.7,0.7-2.7l0.4-21.2c0.5-22.7,0.6-24,2.8-27.9c1.3-2.2,4.2-5.3,6.4-6.8c3.4-2.2,5.3-2.7,10.7-2.7c8.5,0,11-2,11-8.5
	c0-3.6-0.5-4.7-2.4-6C359.8,667.9,356.7,667,353.4,667.1z M547.4,625.3c-2.4-0.1-4.8,0.5-6.5,1.9c-2.3,1.9-2.4,2.1-2.9,27.1
	l-0.5,25.2l-2.5-2.7c-8.7-9.3-25.9-12-40.5-6.5c-13.7,5.2-23.5,21.3-23.5,38.5c0,20.7,13.4,38.2,31.7,41.5
	c7.5,1.3,16.7,0.3,22.4-2.6c2.7-1.4,6.8-4.1,8.9-6.1l4-3.6v3.2c0,4.5,4.7,9,9.3,9c4.3,0.1,7.3-3.1,8.2-6.4c0.4-1.7,0.4-5.3,0.4-5.3
	l0-51.4v-54.4c0,0-0.1-2.1-0.5-3.1c-0.3-0.8-1.5-2.2-1.5-2.2C552.5,626,549.7,625.4,547.4,625.3z"/>
<path class="st0" d="M579.2,786l-4.4-4.1c-35.1,38.1-72.1,69.1-106.9,88.9l3,5.2l3,5.2c36.2-20.6,74.1-52.4,109.8-91.1L579.2,786z
	 M470.9,876l2.7-5.3c-35.5-18.2-72.4-48.9-107.6-88.6l-4.5,4l-4.5,4c35.8,40.4,73.9,72.3,111.1,91.4L470.9,876z M583.6,790.1
	c2.2-2.4,2.1-6.2-0.3-8.5c-2.4-2.2-6.2-2.1-8.5,0.3l4.4,4.1L583.6,790.1z M366,782c-2.2-2.5-6-2.7-8.5-0.5c-2.5,2.2-2.7,6-0.5,8.5
	l4.5-4L366,782z M470.9,876l-2.7,5.3l2.9,1.5l2.8-1.6L470.9,876z"/>
<path class="st0" d="M743,434h-6c0,68.5-11.8,120.5-46.1,177.4l5.1,3.1l5.1,3.1C736.8,558.5,749,504.3,749,434H743z M253.5,614.5
	l5-3.3C221.3,555.9,209,502.5,209,434h-6h-6c0,70.3,12.7,126.1,51.5,183.8L253.5,614.5z M473,164v6c145.8,0,264,118.2,264,264h6h6
	c0-152.4-123.6-276-276-276V164z M203,434h6c0-145.8,118.2-264,264-264v-6v-6c-152.4,0-276,123.6-276,276H203z M690.9,611.4
	c-1.7,2.8-0.8,6.5,2,8.2c2.8,1.7,6.5,0.8,8.2-2l-5.1-3.1L690.9,611.4z M248.5,617.8c1.8,2.7,5.6,3.5,8.3,1.6
	c2.7-1.8,3.5-5.6,1.6-8.3l-5,3.3L248.5,617.8z"/>
<path class="st0" d="M500,420.5h-6v96h6h6v-96H500z M457.5,420.5h-6v96h6h6v-96H457.5z M415.5,420.5h-6v96h6h6v-96H415.5z
	 M494,516.5c0,3.3,2.7,6,6,6c3.3,0,6-2.7,6-6h-6H494z M506,420.5c0-3.3-2.7-6-6-6c-3.3,0-6,2.7-6,6h6H506z M451.5,516.5
	c0,3.3,2.7,6,6,6c3.3,0,6-2.7,6-6h-6H451.5z M463.5,420.5c0-3.3-2.7-6-6-6c-3.3,0-6,2.7-6,6h6H463.5z M409.5,516.5c0,3.3,2.7,6,6,6
	c3.3,0,6-2.7,6-6h-6H409.5z M421.5,420.5c0-3.3-2.7-6-6-6c-3.3,0-6,2.7-6,6h6H421.5z"/>
<path class="st0" d="M543,368v5h5v-5v-5h-5V368z M538,368.4l0.8,4.9c1.4-0.2,2.8-0.3,4.2-0.3v-5v-5c-2,0-3.9,0.2-5.8,0.5L538,368.4z
	 M538,369.4h5v-1h-5h-5v1H538z M543,369v-5c-2,0-3.9,0.2-5.8,0.5l0.8,4.9l0.8,4.9c1.4-0.2,2.8-0.3,4.2-0.3V369z M548,369v-5h-5v5v5
	h5V369z M578,399h5c0-19.3-15.7-35-35-35v5v5c13.8,0,25,11.2,25,25H578z M578,457h5v-58h-5h-5v58H578z M548,487v5
	c19.3,0,35-15.7,35-35h-5h-5c0,13.8-11.2,25-25,25V487z M543,487v5h5v-5v-5h-5V487z M538,486.6l-0.8,4.9c1.9,0.3,3.8,0.5,5.8,0.5v-5
	v-5c-1.4,0-2.8-0.1-4.2-0.3L538,486.6z M538,487.6h5v-1h-5h-5v1H538z M542.2,488l0.1-5c-1.2,0-2.4-0.1-3.5-0.3l-0.8,4.9l-0.8,4.9
	c1.6,0.3,3.2,0.4,4.9,0.5L542.2,488z M543,488l0.1-5l-0.8,0l-0.1,5l-0.1,5l0.8,0L543,488z M548,488v-5h-5v5v5h5V488z M548.8,488
	l-0.1-5l-0.8,0l0.1,5l0.1,5l0.8,0L548.8,488z M579,457h-5c0,14.1-11.3,25.6-25.3,26l0.1,5l0.1,5c19.5-0.5,35.1-16.4,35.1-36H579z
	 M579,399h-5v58h5h5v-58H579z M548,368v5c14.4,0,26,11.6,26,26h5h5c0-19.9-16.1-36-36-36V368z M543,368v-5V368z M538,368.4l-0.8-4.9
	l-4.2,0.7v4.3H538z M538,369.4h-5v5.9l5.8-1L538,369.4z M543,369v-5V369z M548,487v5V487z M538,486.6l0.8-4.9l-5.8-1v5.9H538z
	 M538,487.6h-5v4.3l4.2,0.7L538,487.6z M542.2,488l-0.1,5l0,0l0,0L542.2,488z M543,488l-0.1,5l0,0h0V488z M548,488v5h0l0,0L548,488z
	 M548.8,488l0.1,5l0,0l0,0L548.8,488z"/>
<polygon class="st0" points="378,389 378,395 475,395 475,389 475,383 378,383 "/>
<polygon class="st1" points="443,338 443,344 481,344 481,338 481,332 443,332 "/>
<polygon class="st2" points="501,338 501,344 525,344 525,338 525,332 501,332 "/>
<polygon class="st0" points="503,389 503,395 538,395 538,389 538,383 503,383 "/>
<path class="st0" d="M453.5,305.5l-4.1,4.4c7.8,7.4,18.6,12.6,28.1,16.5c4.8,1.9,9.5,3.6,13.5,5c4.1,1.5,7.3,2.6,9.5,3.6l2.5-5.5
	l2.5-5.5c-2.8-1.2-6.5-2.6-10.4-4c-4-1.4-8.5-3-13-4.9c-9.2-3.7-18.2-8.3-24.4-14.1L453.5,305.5z M424.5,293l-0.2,6
	c2.9,0.1,5.7-0.1,9.6,1.1c3.9,1.2,9.1,3.7,15.5,9.8l4.1-4.4l4.1-4.4c-7.6-7.2-14.4-10.8-20.3-12.5c-5.8-1.7-10.5-1.5-12.6-1.6
	L424.5,293z M389,333.5l6,0.3c0.3-7.3,2-16.5,6.4-23.6c4.2-6.7,10.9-11.7,22.8-11.2l0.3-6l0.3-6c-16.5-0.7-27.2,6.8-33.5,16.8
	c-6,9.6-7.9,21.2-8.3,29.4L389,333.5z M500.5,335c3,1.4,6.6,0,7.9-3s0-6.6-3-7.9l-2.5,5.5L500.5,335z M453.5,305.5l-4.1,4.4
	L453.5,305.5z M424.5,293l-0.3,6l0,0l0,0L424.5,293z M383,333.2c-0.1,3.3,2.4,6.1,5.7,6.3s6.1-2.4,6.3-5.7l-6-0.3L383,333.2z"/>
<g>
	<defs>
		<path id="SVGID_1_" d="M469,337c0-8.3,6.7-15,15-15h14c8.3,0,15,6.7,15,15v60c0,9.9-8.1,18-18,18h-8c-9.9,0-18-8.1-18-18V337z"/>
	</defs>
	<clipPath id="SVGID_2_">
		<use xlink:href="#SVGID_1_"  style="overflow:visible;"/>
	</clipPath>
	<path class="st3" d="M484,322v-12c-14.9,0-27,12.1-27,27h12h12c0-1.7,1.3-3,3-3V322z M498,322v12c1.7,0,3,1.3,3,3h12h12
		c0-14.9-12.1-27-27-27V322z M513,397h-12c0,3.3-2.7,6-6,6v12v12c16.6,0,30-13.4,30-30H513z M487,415v-12c-3.3,0-6-2.7-6-6h-12h-12
		c0,16.6,13.4,30,30,30V415z M469,397h12v-60h-12h-12v60H469z M495,415v-12h-8v12v12h8V415z M513,337h-12v60h12h12v-60H513z
		 M484,322v12h14v-12v-12h-14V322z"/>
</g>
<path class="st0" d="M529.5,332c4.8,0.2,8.5,4.2,8.5,9v186l0,0.5c-0.2,9.6-8,17.3-17.5,17.5l-0.5,0H398c-11.4,0-20.7-9.1-21-20.5
	l0-0.5V341c0-4.8,3.8-8.7,8.5-9l0.5,0h83v12h-80v180c0,5,4,9,9,9h122c3.3,0,6-2.7,6-6V344h-13v-12h16L529.5,332z"/>
<path class="st0" d="M470,223.6c-108,0-195.5,87.5-195.5,195.5S362,614.6,470,614.6s195.5-87.5,195.5-195.5S577.9,223.6,470,223.6z
	 M470,604.4c-102.3,0-185.3-82.9-185.3-185.3S367.6,233.9,470,233.9s185.3,82.9,185.3,185.3S572.3,604.4,470,604.4z"/>
</svg></div>
      <div style="font-family:'Bebas Neue',sans-serif;font-size:1.8rem;letter-spacing:4px;color:var(--s3);">GRADUS</div>
      <div style="font-size:12px;line-height:1.7;max-width:260px;">–î–æ–±–∞–≤—å —Å–º–µ–Ω—ã —Å–ª–µ–≤–∞ ‚Äî –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</div>
    </div>
    <div id="analytics" style="display:none;">
      <div class="kpi-row">
        <div class="kpi a"><div class="kpi-lbl">–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞</div><div class="kpi-val" id="kR">‚Äî</div><div class="kpi-sub" id="kRS">‚Äî</div></div>
        <div class="kpi g"><div class="kpi-lbl">–û–±—â–∏–π –§–û–¢</div><div class="kpi-val" id="kF">‚Äî</div><div class="kpi-sub">—Å –±–æ–Ω—É—Å–∞–º–∏</div></div>
        <div class="kpi b"><div class="kpi-lbl">–§–û–¢ / –≤—ã—Ä—É—á–∫–∞</div><div class="kpi-val" id="kFP">‚Äî</div><div class="kpi-sub">–¥–æ–ª—è –∑–∞—Ä–ø–ª–∞—Ç</div></div>
        <div class="kpi r"><div class="kpi-lbl">–°–º–µ–Ω</div><div class="kpi-val" id="kS">‚Äî</div><div class="kpi-sub" id="kSS">‚Äî</div></div>
      </div>
      <div class="card" style="overflow-x:auto;">
        <div class="card-title">–ò—Ç–æ–≥ –ø–æ –∫–∞–∂–¥–æ–π —Å–º–µ–Ω–µ</div>
        <table><thead><tr>
          <th>#</th><th>–ü—Ä–æ–¥–∞–≤–µ—Ü</th><th>–ü–µ—Ä–∏–æ–¥</th><th>–î–Ω.</th><th>–ó–æ–Ω–∞</th>
          <th>–í—ã—Ä—É—á–∫–∞</th><th>–£—Ä–æ–≤–µ–Ω—å</th><th>–°—Ç–∞–≤–∫–∞</th>
          <th>–û–∫–ª–∞–¥</th><th>% —Å—É–º–º–∞</th><th>–ë–æ–Ω—É—Å—ã</th><th>–ò—Ç–æ–≥–æ –ó–ü</th><th>–§–û–¢%</th><th>–ü–ª–∞–Ω</th>
        </tr></thead><tbody id="tBody"></tbody></table>
      </div>
      <div id="noteEl" class="note warn"></div>
      <div class="charts-row">
        <div class="card"><div class="card-title">–í—ã—Ä—É—á–∫–∞ vs –ó–ü –ø–æ —Å–º–µ–Ω–∞–º</div><canvas id="cMain" height="190"></canvas></div>
        <div class="card"><div class="card-title">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ó–ü (–æ–∫–ª–∞–¥ / % / –±–æ–Ω—É—Å—ã)</div><canvas id="cBreak" height="190"></canvas></div>
      </div>
    </div>
  </div>
</div>
</div>

<!-- ========== –°–•–ï–ú–ê ========== -->
<div class="page" id="tab-scheme">
<div class="scheme-page">
  <div class="sz-grid">
    <div class="sz low">
      <div class="sz-title">‚ùÑÔ∏è –ù–∏–∑–∫–∏–π —Å–µ–∑–æ–Ω</div>
      <div class="sz-months">–Ø–Ω–≤–∞—Ä—å ¬∑ –§–µ–≤—Ä–∞–ª—å ¬∑ –ú–∞—Ä—Ç</div>
      <div class="sz-oklad">–û–∫–ª–∞–¥: 100 000 ‚Ç∏</div>
      <div class="tr t0"><div class="tr-l">–ë–∞–∑–∞: –¥–æ 6.5–ú ‚Ç∏</div><div class="tr-r">1.5%</div></div>
      <div class="tr t1"><div class="tr-l">–°—Ç–∞–Ω–¥–∞—Ä—Ç: 6.5‚Äì7.5–ú ‚Ç∏</div><div class="tr-r">1.8%</div></div>
      <div class="tr t2"><div class="tr-l">–¢–æ–ø: 7.5‚Äì8.5–ú ‚Ç∏</div><div class="tr-r">2.0%</div></div>
      <div class="tr t3"><div class="tr-l">–†–µ–∫–æ—Ä–¥: 8.5–ú+ ‚Ç∏</div><div class="tr-r">2.2%</div></div>
      <div class="sz-note">–°—Ä. —Å–º–µ–Ω–∞ 2025: 4.5–ú ‚Üí –ë–∞–∑–∞<br>–ü—Ä–æ–≥–Ω–æ–∑ 2026: 5.5–ú ‚Üí –ë–∞–∑–∞ (85%)<br>–°—Ç–∞–Ω–¥–∞—Ä—Ç 6.5–ú ‚Äî –∞–º–±–∏—Ü–∏–æ–∑–Ω–∞—è —Ü–µ–ª—å</div>
    </div>
    <div class="sz mid">
      <div class="sz-title">üìä –°—Ä–µ–¥–Ω–∏–π —Å–µ–∑–æ–Ω</div>
      <div class="sz-months">–ê–ø—Ä–µ–ª—å ¬∑ –û–∫—Ç—è–±—Ä—å ¬∑ –ù–æ—è–±—Ä—å ¬∑ –î–µ–∫–∞–±—Ä—å</div>
      <div class="sz-oklad">–û–∫–ª–∞–¥: 100 000 ‚Ç∏</div>
      <div class="tr t0"><div class="tr-l">–ë–∞–∑–∞: –¥–æ 7.5–ú ‚Ç∏</div><div class="tr-r">1.5%</div></div>
      <div class="tr t1"><div class="tr-l">–°—Ç–∞–Ω–¥–∞—Ä—Ç: 7.5‚Äì8.5–ú ‚Ç∏</div><div class="tr-r">1.8%</div></div>
      <div class="tr t2"><div class="tr-l">–¢–æ–ø: 8.5‚Äì9.5–ú ‚Ç∏</div><div class="tr-r">2.0%</div></div>
      <div class="tr t3"><div class="tr-l">–†–µ–∫–æ—Ä–¥: 9.5–ú+ ‚Ç∏</div><div class="tr-r">2.2%</div></div>
      <div class="sz-note">–°—Ä. —Å–º–µ–Ω–∞ 2025: 6.4–ú ‚Üí –ë–∞–∑–∞ (83‚Äì87%)<br>–ü—Ä–æ–≥–Ω–æ–∑ 2026: 7.8–ú ‚Üí –°—Ç–∞–Ω–¥–∞—Ä—Ç (102%)<br>–¢–æ–ø –∏ –†–µ–∫–æ—Ä–¥ ‚Äî —Ä–µ–∞–ª—å–Ω—ã–µ —Ü–µ–ª–∏ 2026</div>
    </div>
    <div class="sz high">
      <div class="sz-title">üî• –í—ã—Å–æ–∫–∏–π —Å–µ–∑–æ–Ω</div>
      <div class="sz-months">–ú–∞–π ¬∑ –ò—é–Ω—å ¬∑ –ò—é–ª—å ¬∑ –ê–≤–≥—É—Å—Ç ¬∑ –°–µ–Ω—Ç—è–±—Ä—å</div>
      <div class="sz-oklad">–û–∫–ª–∞–¥: 100 000 ‚Ç∏</div>
      <div class="tr t0"><div class="tr-l">–ë–∞–∑–∞: –¥–æ 9.5–ú ‚Ç∏</div><div class="tr-r">1.5%</div></div>
      <div class="tr t1"><div class="tr-l">–°—Ç–∞–Ω–¥–∞—Ä—Ç: 9.5‚Äì11–ú ‚Ç∏</div><div class="tr-r">1.8%</div></div>
      <div class="tr t2"><div class="tr-l">–¢–æ–ø: 11‚Äì13–ú ‚Ç∏</div><div class="tr-r">2.0%</div></div>
      <div class="tr t3"><div class="tr-l">–†–µ–∫–æ—Ä–¥: 13–ú+ ‚Ç∏</div><div class="tr-r">2.2%</div></div>
      <div class="sz-note">–°—Ä. —Å–º–µ–Ω–∞ 2025: 9.2–ú ‚Üí –ë–∞–∑–∞/–°—Ç–∞–Ω–¥–∞—Ä—Ç<br>–ü—Ä–æ–≥–Ω–æ–∑ 2026: 11.3–ú ‚Üí –¢–æ–ø<br>–ò—é–ª—å 2026: ~14.9–ú ‚Üí –†–µ–∫–æ—Ä–¥ üèÜ</div>
    </div>
  </div>
  <div class="card">
    <div class="card-title">–ë–æ–Ω—É—Å—ã –∑–∞ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É ‚Äî –∑–∞ –∫–∞–∂–¥—É—é —Å–º–µ–Ω—É</div>
    <div class="bonus-ref">
      <div class="bp"><span>‚è∞ –ù–µ—Ç –æ–ø–æ–∑–¥–∞–Ω–∏–π</span><strong>+10 000 ‚Ç∏</strong></div>
      <div class="bp"><span>üìã –í—Å–µ –æ—Ç—á—ë—Ç—ã –≤–æ–≤—Ä–µ–º—è</span><strong>+10 000 ‚Ç∏</strong></div>
      <div class="bp"><span>üí∞ –ù–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—á–∏</span><strong>+10 000 ‚Ç∏</strong></div>
      <div class="bp"><span>üßπ –ü–æ—Ä—è–¥–æ–∫ –≤ –º–∞–≥–∞–∑–∏–Ω–µ</span><strong>+10 000 ‚Ç∏</strong></div>
    </div>
    <div class="note info" style="margin-bottom:0;"><strong>–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è —É–±–æ—Ä–∫–∞:</strong> —Ä–∞–∑ –≤ –º–µ—Å—è—Ü –ø—Ä–∏–≥–ª–∞—à–∞–µ—Ç—Å—è —É–±–æ—Ä—â–∏—Ü–∞ ‚Äî 20 000 ‚Ç∏/–º–µ—Å ¬∑ 240 000 ‚Ç∏/–≥–æ–¥ ‚úì</div>
  </div>
  <div class="card">
    <div class="card-title">–ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á—ë—Ç–∞ –ó–ü –∑–∞ —Å–º–µ–Ω—É</div>
    <div class="examples-grid">
      <div class="ex"><div class="ex-title" style="color:var(--blue);">‚ùÑÔ∏è –Ø–Ω–≤–∞—Ä—å, 5.5–ú (–ë–∞–∑–∞)</div>
        <div class="ex-row"><span>–û–∫–ª–∞–¥</span><span>100 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>5.5–ú √ó 1.5%</span><span class="pos">82 500 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ë–æ–Ω—É—Å—ã 4/4</span><span class="pos">40 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ò—Ç–æ–≥–æ</span><span class="amb">222 500 ‚Ç∏</span></div>
      </div>
      <div class="ex"><div class="ex-title" style="color:var(--gold);">üìä –û–∫—Ç—è–±—Ä—å, 8–ú (–°—Ç–∞–Ω–¥–∞—Ä—Ç)</div>
        <div class="ex-row"><span>–û–∫–ª–∞–¥</span><span>100 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>8–ú √ó 1.8%</span><span class="pos">144 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ë–æ–Ω—É—Å—ã 4/4</span><span class="pos">40 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ò—Ç–æ–≥–æ</span><span class="amb">284 000 ‚Ç∏</span></div>
      </div>
      <div class="ex"><div class="ex-title" style="color:var(--gold);">üìä –ê–ø—Ä–µ–ª—å, 9–ú (–¢–æ–ø)</div>
        <div class="ex-row"><span>–û–∫–ª–∞–¥</span><span>100 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>9–ú √ó 2.0%</span><span class="pos">180 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ë–æ–Ω—É—Å—ã 4/4</span><span class="pos">40 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ò—Ç–æ–≥–æ</span><span class="amb">320 000 ‚Ç∏</span></div>
      </div>
      <div class="ex"><div class="ex-title" style="color:var(--green);">üî• –ò—é–Ω—å, 10–ú (–°—Ç–∞–Ω–¥–∞—Ä—Ç)</div>
        <div class="ex-row"><span>–û–∫–ª–∞–¥</span><span>100 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>10–ú √ó 1.8%</span><span class="pos">180 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ë–æ–Ω—É—Å—ã 4/4</span><span class="pos">40 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ò—Ç–æ–≥–æ</span><span class="amb">320 000 ‚Ç∏</span></div>
      </div>
      <div class="ex"><div class="ex-title" style="color:var(--green);">üî• –ò—é–ª—å, 12–ú (–¢–æ–ø)</div>
        <div class="ex-row"><span>–û–∫–ª–∞–¥</span><span>100 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>12–ú √ó 2.0%</span><span class="pos">240 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ë–æ–Ω—É—Å—ã 4/4</span><span class="pos">40 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ò—Ç–æ–≥–æ</span><span class="amb">380 000 ‚Ç∏</span></div>
      </div>
      <div class="ex" style="border-color:rgba(46,204,113,.3);background:rgba(46,204,113,.03);">
        <div class="ex-title" style="color:var(--green);">üèÜ –ò—é–ª—å, 14–ú (–†–µ–∫–æ—Ä–¥)</div>
        <div class="ex-row"><span>–û–∫–ª–∞–¥</span><span>100 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>14–ú √ó 2.2%</span><span class="pos">308 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ë–æ–Ω—É—Å—ã 4/4</span><span class="pos">40 000 ‚Ç∏</span></div>
        <div class="ex-row"><span>–ò—Ç–æ–≥–æ</span><span class="amb">448 000 ‚Ç∏</span></div>
      </div>
    </div>
  </div>
</div>
</div>

<!-- ========== –ü–†–û–ì–ù–û–ó ========== -->
<div class="page" id="tab-forecast">
<div class="fc-page">
  <div class="note warn">–ü—Ä–æ–≥–Ω–æ–∑ 2026 = —Ñ–∞–∫—Ç 2025 √ó 1.22 (+22%). –í—ã—Ä—É—á–∫–∞ —Å–º–µ–Ω—ã = –º–µ—Å—è—Ü √∑ 2. –ë–æ–Ω—É—Å—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ (+40–∫). –§–û–¢ = –æ–±–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞. –£–±–æ—Ä—â–∏—Ü–∞ +240–∫/–≥–æ–¥ –æ—Ç–¥–µ–ª—å–Ω–æ.</div>
  <div class="card" style="overflow-x:auto;">
    <div class="card-title">–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ –º–µ—Å—è—Ü–∞–º 2026 ‚Äî –°–µ—Ä–∏–∫ –°–º–∞–≥—É–ª–æ–≤ + –ï—Ä–±–æ–ª –°–∞–¥—ã–∫–æ–≤</div>
    <table><thead><tr>
      <th>–ú–µ—Å—è—Ü</th><th>–ó–æ–Ω–∞</th><th>–§–∞–∫—Ç 2025</th><th>–ü—Ä–æ–≥–Ω–æ–∑ 2026</th>
      <th>–í—ã—Ä—É—á–∫–∞/—Å–º–µ–Ω—É</th><th>–£—Ä–æ–≤–µ–Ω—å</th><th>–°—Ç–∞–≤–∫–∞</th>
      <th>–ó–ü (–±–µ–∑ –±–æ–Ω.)</th><th>–ó–ü (–º–∞–∫—Å.)</th><th>–§–û–¢ √ó2</th><th>–§–û–¢%</th>
    </tr></thead><tbody id="fcBody"></tbody></table>
  </div>
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;">
    <div class="card"><div class="card-title">–ó–ü –∑–∞ —Å–º–µ–Ω—É 2025 vs 2026</div><canvas id="fcSal" height="200"></canvas></div>
    <div class="card"><div class="card-title">–§–û–¢ % –æ—Ç –≤—ã—Ä—É—á–∫–∏ –ø–æ –º–µ—Å—è—Ü–∞–º 2026</div><canvas id="fcPct" height="200"></canvas></div>
  </div>
</div>
</div>

<script>
// ============ –§–ò–ù–ê–õ–¨–ù–ê–Ø –°–•–ï–ú–ê GRADUS ============
const OKLAD = 100000;
const SCHEME = [
  {breaks:[6500000,7500000,8500000], rates:[0.015,0.018,0.020,0.022], labels:['–ë–∞–∑–∞','–°—Ç–∞–Ω–¥–∞—Ä—Ç','–¢–æ–ø','–†–µ–∫–æ—Ä–¥']},
  {breaks:[7500000,8500000,9500000], rates:[0.015,0.018,0.020,0.022], labels:['–ë–∞–∑–∞','–°—Ç–∞–Ω–¥–∞—Ä—Ç','–¢–æ–ø','–†–µ–∫–æ—Ä–¥']},
  {breaks:[9500000,11000000,13000000], rates:[0.015,0.018,0.020,0.022], labels:['–ë–∞–∑–∞','–°—Ç–∞–Ω–¥–∞—Ä—Ç','–¢–æ–ø','–†–µ–∫–æ—Ä–¥']},
];
const ZONE_M=[0,0,0,1,2,2,2,2,2,1,1,1];
const Z_NAME=['‚ùÑÔ∏è –ù–∏–∑–∫–∏–π','üìä –°—Ä–µ–¥–Ω–∏–π','üî• –í—ã—Å–æ–∫–∏–π'];
const Z_CLS=['z-low','z-mid','z-high'];
const T_COL=['var(--muted)','var(--blue)','var(--gold)','var(--green)'];
const MONTHS=['–Ø–Ω–≤–∞—Ä—å','–§–µ–≤—Ä–∞–ª—å','–ú–∞—Ä—Ç','–ê–ø—Ä–µ–ª—å','–ú–∞–π','–ò—é–Ω—å','–ò—é–ª—å','–ê–≤–≥—É—Å—Ç','–°–µ–Ω—Ç—è–±—Ä—å','–û–∫—Ç—è–±—Ä—å','–ù–æ—è–±—Ä—å','–î–µ–∫–∞–±—Ä—å'];
const SHORT=['–Ø–Ω–≤','–§–µ–≤','–ú–∞—Ä','–ê–ø—Ä','–ú–∞–π','–ò—é–Ω','–ò—é–ª','–ê–≤–≥','–°–µ–Ω','–û–∫—Ç','–ù–æ—è','–î–µ–∫'];
const REV25=[11169773.70,8760695.91,6903666.58,12488802.07,16412082.45,18684315.70,24379271.00,19835447.50,13161530.55,13085823.30,12612485.40,13012231.10];
const LS_KEY = 'gradus_shifts_v1';

function getZone(ds){return ZONE_M[new Date(ds).getMonth()];}
function calcW(z,r){const s=SCHEME[z];let idx=0;for(let j=0;j<3;j++) if(r>=s.breaks[j]) idx=j+1;return{oklad:OKLAD,pct:r*s.rates[idx],rate:s.rates[idx],idx,label:s.labels[idx]};}
function pp(z,r){return Math.round(r/SCHEME[z].breaks[0]*100);}
function days(a,b){return Math.round((new Date(b)-new Date(a))/86400000)+1;}
function fd(d){return new Date(d).toLocaleDateString('ru-RU',{day:'numeric',month:'short'});}
function fM(n){return Math.abs(n)>=1e6?(n/1e6).toFixed(2)+'–ú ‚Ç∏':Math.round(n).toLocaleString('ru')+' ‚Ç∏';}
function tw(s){return s.oklad+s.pct+s.bon.filter(Boolean).length*10000;}

// ============ –°–û–•–†–ê–ù–ï–ù–ò–ï ============
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// –ö–û–ù–§–ò–ì ‚Äî –≤—Å—Ç–∞–≤—å —Å–≤–æ–π URL –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
https://script.google.com/macros/s/AKfycbzwf04ilnROLs7T8cvfeMI_7CeW_SU2TLY-WK1WmOIsseR0xuklI4JH6XecvyTuAooT/exec // <-- –í–°–¢–ê–í–ò–¢–¨ URL –∏–∑ Google Apps Script

function setSyncStatus(msg, color){
  const el=document.getElementById('syncStatus');
  if(el){el.textContent=msg;el.style.color=color||'var(--dim)';}
}

// --- LocalStorage (–∫–µ—à / –æ—Ñ–ª–∞–π–Ω) ---
function saveLocal(){
  try{
    localStorage.setItem(LS_KEY, JSON.stringify(shifts));
    localStorage.setItem(LS_KEY+'_cnt', String(cnt_));
  }catch(e){}
}
function loadLocal(){
  try{
    const raw=localStorage.getItem(LS_KEY);
    if(raw){
      const loaded=JSON.parse(raw);
      shifts=loaded.map(s=>{
        const z=getZone(s.st);
        const w=calcW(z,s.rv);
        return {...s,z,...w,plan:pp(z,s.rv),days:days(s.st,s.en)};
      });
      if(shifts.length) cnt_=Math.max(...shifts.map(s=>s.id));
      return true;
    }
  }catch(e){shifts=[];}
  return false;
}

// --- Google Sheets ---
async function saveData(){
  saveLocal();
  if(!SHEETS_URL){setSyncStatus('üíæ –õ–æ–∫–∞–ª—å–Ω–æ',    'var(--dim)');return;}
  setSyncStatus('üîÑ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','var(--amber)');
  try{
    const r=await fetch(SHEETS_URL,{method:'POST',
      headers:{'Content-Type':'text/plain'},
      body:JSON.stringify({action:'save',shifts,cnt:cnt_})});
    const j=await r.json();
    setSyncStatus(j.ok?'‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ '+new Date().toLocaleTimeString('ru'):'‚ö†Ô∏è –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ','var(--green)');
  }catch(e){setSyncStatus('‚ö†Ô∏è –û—Ñ–ª–∞–π–Ω ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ','var(--amber)');}
}

async function loadData(){
  if(!SHEETS_URL){
    loadLocal();
    setSyncStatus('üíæ –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (URL –Ω–µ –∑–∞–¥–∞–Ω)','var(--muted)');
    return;
  }
  setSyncStatus('üîÑ –ó–∞–≥—Ä—É–∑–∫–∞...','var(--amber)');
  try{
    const r=await fetch(SHEETS_URL+'?action=load&t='+Date.now());
    const j=await r.json();
    if(j.ok && j.shifts && j.shifts.length){
      shifts=j.shifts.map(s=>{
        const z=getZone(s.st);
        const w=calcW(z,s.rv);
        return {...s,z,...w,plan:pp(z,s.rv),days:days(s.st,s.en)};
      });
      cnt_=j.cnt||Math.max(...shifts.map(s=>s.id));
      saveLocal();
      setSyncStatus('‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ Google Sheets','var(--green)');
    } else {
      loadLocal();
      setSyncStatus('üìÇ –ò–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞','var(--dim)');
    }
  }catch(e){
    loadLocal();
    setSyncStatus('‚ö†Ô∏è –û—Ñ–ª–∞–π–Ω ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ','var(--amber)');
  }
}

let shifts=[],cnt_=0,ch1=null,ch2=null;

function addShift(){
  const st=document.getElementById('fStart').value;
  const en=document.getElementById('fEnd').value;
  const sl=document.getElementById('fSeller').value;
  const rv=parseFloat(document.getElementById('fRev').value);
  if(!st||!en||!rv||rv<=0){alert('–ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è!');return;}
  if(new Date(st)>new Date(en)){alert('–ù–∞—á–∞–ª–æ –ø–æ–∑–∂–µ –∫–æ–Ω—Ü–∞!');return;}
  const z=getZone(st);
  const w=calcW(z,rv);
  cnt_++;
  const s={id:cnt_,st,en,sl,rv,z,days:days(st,en),...w,plan:pp(z,rv),bon:[true,true,true,true]};
  shifts.push(s);
  document.getElementById('fRev').value='';
  saveData();
  render();
}
function del(id){shifts=shifts.filter(s=>s.id!==id);saveData();render();}
function tog(id,i,v){const s=shifts.find(x=>x.id===id);if(s){s.bon[i]=v;saveData();render();}}
function clearAll(){
  if(!confirm('–£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–º–µ–Ω—ã? –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∏–∑ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞.')) return;
  shifts=[];cnt_=0;
  localStorage.removeItem(LS_KEY);
  document.getElementById('saveStatus').textContent='–û—á–∏—â–µ–Ω–æ';
  render();
}

function render(){
  document.getElementById('cnt').textContent=shifts.length;
  const list=document.getElementById('shiftList');
  if(!shifts.length){
    list.innerHTML='<div style="text-align:center;padding:32px 14px;color:var(--muted);"><div style="font-size:2rem;margin-bottom:8px;">üìã</div><div style="font-size:12px;line-height:1.6;">–î–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é —Å–º–µ–Ω—É<br>—á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –≤—ã—à–µ</div></div>';
    document.getElementById('emptyR').style.display='flex';
    document.getElementById('analytics').style.display='none';
    return;
  }
  document.getElementById('emptyR').style.display='none';
  document.getElementById('analytics').style.display='block';
  const bl=['‚è∞ –ë–µ–∑ –æ–ø–æ–∑–¥.','üìã –û—Ç—á—ë—Ç—ã','üí∞ –ë–µ–∑ –Ω–µ–¥–æ—Å—Ç.','üßπ –ü–æ—Ä—è–¥–æ–∫'];
  list.innerHTML=shifts.map(s=>{
    const t=tw(s);
    const bw=Math.min(s.plan,100);
    const bc=s.plan>=100?'var(--green)':s.plan>=70?'var(--gold)':'var(--blue)';
    return '<div class="sc">'
      +'<div class="sc-head"><div><div class="sc-seller">üë§ '+s.sl+'</div><div class="sc-dates">'+fd(s.st)+' ‚Äî '+fd(s.en)+' ¬∑ '+s.days+' –¥–Ω.</div></div><button class="sc-del" onclick="del('+s.id+')">√ó</button></div>'
      +'<div class="sc-meta"><span class="tag '+Z_CLS[s.z]+'">'+Z_NAME[s.z]+'</span><span class="tag t-tag" style="color:'+T_COL[s.idx]+'">'+s.label+' '+(s.rate*100).toFixed(1)+'%</span></div>'
      +'<div class="sc-stats"><div class="sb rev"><div class="sb-lbl">–í—ã—Ä—É—á–∫–∞</div><div class="sb-val">'+fM(s.rv)+'</div></div><div class="sb sal"><div class="sb-lbl">–ó–ü —Å –±–æ–Ω—É—Å–∞–º–∏</div><div class="sb-val">'+fM(t)+'</div></div></div>'
      +'<div class="pbar-wrap"><div class="pbar-lbl"><span>–ü–ª–∞–Ω ('+( SCHEME[s.z].breaks[0]/1e6).toFixed(1)+'–ú)</span><span style="color:'+bc+';font-weight:700">'+s.plan+'%</span></div><div class="pbar"><div class="pbar-fill" style="width:'+bw+'%;background:'+bc+'"></div></div></div>'
      +'<div class="bonus-row">'+bl.map((l,i)=>'<label class="bchip '+(s.bon[i]?'on':'')+'"><input type="checkbox" '+(s.bon[i]?'checked':'')+' onchange="tog('+s.id+','+i+',this.checked)">'+l+' +10–ö</label>').join('')+'</div>'
      +'<div class="sc-total"><span style="color:var(--dim);font-size:11px;">–ò—Ç–æ–≥–æ –∫ –≤—ã–ø–ª–∞—Ç–µ:</span><span style="font-weight:700;color:var(--green);">'+fM(t)+'</span></div>'
      +'</div>';
  }).join('');
  renderRight();
}

function renderRight(){
  const totR=shifts.reduce((a,s)=>a+s.rv,0);
  const totF=shifts.reduce((a,s)=>a+tw(s),0);
  const fp=(totF/totR*100).toFixed(1);
  document.getElementById('kR').textContent=fM(totR);
  document.getElementById('kRS').textContent='–∑–∞ '+shifts.length+' —Å–º–µ–Ω';
  document.getElementById('kF').textContent=fM(totF);
  document.getElementById('kFP').textContent=fp+'%';
  document.getElementById('kS').textContent=shifts.length;
  document.getElementById('kSS').textContent=[...new Set(shifts.map(s=>s.sl))].join(', ');
  const tb=document.getElementById('tBody');tb.innerHTML='';
  shifts.forEach((s,i)=>{
    const t=tw(s);const bn=s.bon.filter(Boolean).length*10000;
    const bc2=s.plan>=100?'#2ecc71':s.plan>=70?'#FFD700':'#5b9cf6';
    const tr=document.createElement('tr');
    tr.innerHTML='<td>'+(i+1)+'</td><td style="color:var(--text)">'+s.sl+'</td><td>'+fd(s.st)+'‚Äì'+fd(s.en)+'</td><td>'+s.days+'</td>'
      +'<td><span class="tag '+Z_CLS[s.z]+'" style="font-size:9px">'+Z_NAME[s.z]+'</span></td>'
      +'<td class="amb">'+fM(s.rv)+'</td>'
      +'<td><span class="tag t-tag" style="font-size:9px;color:'+T_COL[s.idx]+'">'+s.label+'</span></td>'
      +'<td>'+(s.rate*100).toFixed(1)+'%</td>'
      +'<td>'+fM(s.oklad)+'</td><td class="pos">'+fM(s.pct)+'</td><td class="pos">'+fM(bn)+'</td><td class="pos">'+fM(t)+'</td>'
      +'<td>'+(t/s.rv*100).toFixed(1)+'%</td>'
      +'<td><div style="display:flex;align-items:center;gap:5px;"><div style="width:46px;height:4px;background:var(--border);border-radius:2px;overflow:hidden;"><div style="width:'+Math.min(s.plan,100)+'%;height:100%;background:'+bc2+';border-radius:2px;"></div></div><span style="font-size:10px;color:'+bc2+';font-weight:700;">'+s.plan+'%</span></div></td>';
    tb.appendChild(tr);
  });
  const totO=shifts.reduce((a,s)=>a+s.oklad,0);
  const totP=shifts.reduce((a,s)=>a+s.pct,0);
  const totB=shifts.reduce((a,s)=>a+s.bon.filter(Boolean).length*10000,0);
  const tr2=document.createElement('tr');tr2.className='tot';
  tr2.innerHTML='<td colspan="5">–ò–¢–û–ì–û</td><td class="amb">'+fM(totR)+'</td><td></td><td></td><td>'+fM(totO)+'</td><td class="pos">'+fM(totP)+'</td><td class="pos">'+fM(totB)+'</td><td class="pos">'+fM(totF)+'</td><td>'+(totF/totR*100).toFixed(1)+'%</td><td></td>';
  tb.appendChild(tr2);
  const abv=shifts.filter(s=>s.plan>=100).length;
  const avg=Math.round(shifts.reduce((a,s)=>a+s.plan,0)/shifts.length);
  const ok=parseFloat(fp)<=6;
  document.getElementById('noteEl').className='note '+(ok?'ok':'warn');
  document.getElementById('noteEl').innerHTML='<strong>–ò—Ç–æ–≥:</strong> –°—Ä–µ–¥–Ω–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ '+avg+'% ¬∑ –°–º–µ–Ω –≤—ã—à–µ –ø–ª–∞–Ω–∞: <strong>'+abv+'/'+shifts.length+'</strong> ¬∑ –§–û–¢: <strong>'+fp+'%</strong> '+(ok?'‚úÖ –Ω–æ—Ä–º–∞':'‚ö†Ô∏è >6%');
  Chart.defaults.color='#7a8196';Chart.defaults.borderColor='#2a2f3d';
  const labels=shifts.map((s,i)=>'#'+(i+1)+' '+s.sl.split(' ')[0]+'\n'+fd(s.st));
  if(ch1)ch1.destroy();
  ch1=new Chart(document.getElementById('cMain'),{type:'bar',data:{labels,datasets:[
    {label:'–í—ã—Ä—É—á–∫–∞ (–ú)',data:shifts.map(s=>+(s.rv/1e6).toFixed(2)),backgroundColor:'rgba(255,215,0,.6)',borderRadius:4,yAxisID:'y'},
    {label:'–ó–ü (–ö)',data:shifts.map(s=>Math.round(tw(s)/1000)),type:'line',borderColor:'#2ecc71',pointBackgroundColor:'#2ecc71',pointRadius:4,fill:false,tension:.4,yAxisID:'y2'},
  ]},options:{responsive:true,plugins:{legend:{position:'top',labels:{boxWidth:10,font:{family:'Manrope',size:10}}}},
    scales:{x:{grid:{display:false},ticks:{font:{family:'Manrope',size:10},maxRotation:0}},
      y:{grid:{color:'#1e2330'},ticks:{callback:v=>v+'–ú',font:{family:'Manrope',size:10}},position:'left'},
      y2:{ticks:{callback:v=>v+'–ö',font:{family:'Manrope',size:10}},position:'right',grid:{display:false}}}}});
  if(ch2)ch2.destroy();
  ch2=new Chart(document.getElementById('cBreak'),{type:'bar',data:{labels,datasets:[
    {label:'–û–∫–ª–∞–¥',data:shifts.map(s=>Math.round(s.oklad/1000)),backgroundColor:'rgba(91,156,246,.7)',borderRadius:4},
    {label:'%',data:shifts.map(s=>Math.round(s.pct/1000)),backgroundColor:'rgba(255,215,0,.75)',borderRadius:4},
    {label:'–ë–æ–Ω—É—Å—ã',data:shifts.map(s=>s.bon.filter(Boolean).length*10),backgroundColor:'rgba(46,204,113,.7)',borderRadius:4},
  ]},options:{responsive:true,plugins:{legend:{position:'top',labels:{boxWidth:10,font:{family:'Manrope',size:10}}}},
    scales:{x:{stacked:true,grid:{display:false},ticks:{font:{family:'Manrope',size:10},maxRotation:0}},
      y:{stacked:true,grid:{color:'#1e2330'},ticks:{callback:v=>v+'–ö',font:{family:'Manrope',size:10}}}}}});
}

// ============ FORECAST ============
(function(){
  Chart.defaults.color='#7a8196';Chart.defaults.borderColor='#2a2f3d';
  const tb=document.getElementById('fcBody');
  const salD=[],pctD=[],sal25=[];
  let totF=0,totR=0;
  REV25.forEach((r,i)=>{
    const r26=r*1.22,sh=r26/2,z=ZONE_M[i];
    const w=calcW(z,sh);const w25=calcW(z,r/2);
    const salMax=w.oklad+w.pct+40000;
    const fot2=salMax*2;const fp=(fot2/r26*100).toFixed(1);
    totF+=fot2;totR+=r26;
    salD.push(Math.round(salMax/1000));
    sal25.push(Math.round((w25.oklad+w25.pct+40000)/1000));
    pctD.push(parseFloat(fp));
    const tr=document.createElement('tr');
    tr.innerHTML='<td>'+MONTHS[i]+'</td><td><span class="tag '+Z_CLS[z]+'" style="font-size:9px">'+Z_NAME[z]+'</span></td>'
      +'<td>'+fM(r)+'</td><td class="amb">'+fM(r26)+'</td><td>'+fM(sh)+'</td>'
      +'<td><span class="tag t-tag" style="font-size:9px;color:'+T_COL[w.idx]+'">'+w.label+'</span></td>'
      +'<td class="amb">'+(w.rate*100).toFixed(1)+'%</td>'
      +'<td class="pos">'+fM(w.oklad+w.pct)+'</td><td class="pos">'+fM(salMax)+'</td>'
      +'<td>'+fM(fot2)+'</td><td>'+fp+'%</td>';
    tb.appendChild(tr);
  });
  const tr2=document.createElement('tr');tr2.className='tot';
  tr2.innerHTML='<td>–ò–¢–û–ì–û</td><td></td><td>'+fM(REV25.reduce((a,b)=>a+b,0))+'</td>'
    +'<td class="amb">'+fM(REV25.reduce((a,b)=>a+b,0)*1.22)+'</td>'
    +'<td></td><td></td><td></td><td></td><td></td>'
    +'<td class="pos">'+fM(totF)+'</td>'
    +'<td class="amb">'+(totF/totR*100).toFixed(2)+'%</td>';
  tb.appendChild(tr2);
  new Chart(document.getElementById('fcSal'),{type:'bar',data:{labels:SHORT,datasets:[
    {label:'–ó–ü 2025',data:sal25,backgroundColor:'rgba(74,81,104,.6)',borderRadius:3},
    {label:'–ó–ü 2026 –ø—Ä–æ–≥–Ω–æ–∑',data:salD,backgroundColor:'rgba(255,215,0,.75)',borderRadius:3},
  ]},options:{responsive:true,plugins:{legend:{position:'top',labels:{boxWidth:10,font:{family:'Manrope',size:10}}}},
    scales:{x:{grid:{display:false},ticks:{font:{family:'Manrope',size:11}}},y:{grid:{color:'#1e2330'},ticks:{callback:v=>v+'–ö',font:{family:'Manrope',size:11}}}}}});
  new Chart(document.getElementById('fcPct'),{type:'bar',data:{labels:SHORT,datasets:[
    {label:'–§–û–¢%',data:pctD,backgroundColor:pctD.map(p=>p>6?'rgba(231,76,60,.65)':p>4?'rgba(255,215,0,.65)':'rgba(46,204,113,.65)'),borderRadius:3},
  ]},options:{responsive:true,plugins:{legend:{position:'top',labels:{boxWidth:10,font:{family:'Manrope',size:10}}}},
    scales:{x:{grid:{display:false},ticks:{font:{family:'Manrope',size:11}}},y:{grid:{color:'#1e2330'},ticks:{callback:v=>v+'%',font:{family:'Manrope',size:11}},max:8}}}});
})();


// ============ EXCEL EXPORT ============
function exportExcel(){
  if(!shifts.length){alert('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞!');return;}
  const rows=[['#','–ü—Ä–æ–¥–∞–≤–µ—Ü','–ù–∞—á–∞–ª–æ','–ö–æ–Ω–µ—Ü','–î–Ω–µ–π','–ó–æ–Ω–∞','–í—ã—Ä—É—á–∫–∞ ‚Ç∏','–£—Ä–æ–≤–µ–Ω—å','–°—Ç–∞–≤–∫–∞ %','–û–∫–ª–∞–¥ ‚Ç∏','% —Å—É–º–º–∞ ‚Ç∏','–ë–æ–Ω—É—Å—ã ‚Ç∏','–ò—Ç–æ–≥–æ –ó–ü ‚Ç∏','–§–û–¢ %','–í—ã–ø. –ø–ª–∞–Ω–∞ %']];
  shifts.forEach((s,i)=>{
    const t=tw(s), bn=s.bon.filter(Boolean).length*10000;
    rows.push([i+1,s.sl,s.st,s.en,s.days,Z_NAME[s.z].replace(/[^–∞-—è—ë–ê-–Ø–Åa-zA-Z ]/g,'').trim(),s.rv,s.label,parseFloat((s.rate*100).toFixed(1)),s.oklad,Math.round(s.pct),bn,Math.round(t),parseFloat((t/s.rv*100).toFixed(1)),s.plan]);
  });
  const totR=shifts.reduce((a,s)=>a+s.rv,0);
  const totF=shifts.reduce((a,s)=>a+tw(s),0);
  rows.push(['','–ò–¢–û–ì–û','','','','',totR,'','',shifts.reduce((a,s)=>a+s.oklad,0),Math.round(shifts.reduce((a,s)=>a+s.pct,0)),shifts.reduce((a,s)=>a+s.bon.filter(Boolean).length*10000,0),Math.round(totF),parseFloat((totF/totR*100).toFixed(1)),'']);
  const ws=XLSX.utils.aoa_to_sheet(rows);
  ws['!cols']=[{wch:4},{wch:18},{wch:12},{wch:12},{wch:5},{wch:12},{wch:14},{wch:10},{wch:8},{wch:10},{wch:10},{wch:8},{wch:12},{wch:7},{wch:8}];
  const wb=XLSX.utils.book_new();
  XLSX.utils.book_append_sheet(wb,ws,'–°–º–µ–Ω—ã Gradus');
  const d=new Date();
  XLSX.writeFile(wb,'Gradus_—Å–º–µ–Ω—ã_'+d.getFullYear()+'_'+String(d.getMonth()+1).padStart(2,'0')+'.xlsx');
}

function showTab(n,el){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.getElementById('tab-'+n).classList.add('active');
  el.classList.add('active');
}

// ============ –ó–ê–ü–£–°–ö ============
(async()=>{ await loadData(); render(); })();
</script>
</body>
</html>